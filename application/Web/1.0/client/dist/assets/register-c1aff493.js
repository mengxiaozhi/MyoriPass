import{_ as L,r as n,u as U,b as q,c,d as p,g as v,m as b,e,k as d,v as m,n as M,F as w,p as N,f as P,w as T,a as x,t as z,q as A,s as D}from"./index-4ef9b014.js";const F={setup(){const a=n(""),o=n(""),g=n(""),s=n(""),h=n(""),f=n(""),_=n(!1),t=n(""),y=n([]),k=U(),S=async u=>{if(u.preventDefault(),h.value!==f.value){t.value="密碼與確認密碼不符，請重新輸入。";return}const i=new URLSearchParams;i.append("email",a.value),i.append("name",o.value),i.append("countries",g.value),i.append("id",s.value),i.append("password",h.value);try{const r=await x.post("/api/register.php",i);console.log(r.data),r.data.success===!0?(_.value=!0,t.value=r.data,window.scrollTo({top:0,behavior:"smooth"})):(alert(r.data.success),t.value=r.data)}catch(r){t.value="提交時發生錯誤: "+r.toString()}},V=async()=>{try{const u=await x.get("https://raw.githubusercontent.com/mengxiaozhi/country_code/main/code.json");y.value=u.data}catch(u){console.error("獲取國家數據時出錯:",u)}},C=()=>{k.push("/user/login")};return V(),{email:a,name:o,selectedCountry:g,id:s,password:h,confirmPassword:f,registrationSuccess:_,message:t,countries:y,submitForm:S,letToLogin:C}}},l=a=>(A("data-v-39c4cf62"),a=a(),D(),a),R=l(()=>e("i",{class:"fas fa-check-circle"},null,-1)),I=l(()=>e("span",{class:"bold-text"},"點我登入",-1)),Z=l(()=>e("h2",null,"注冊MyoriPass",-1)),B=l(()=>e("h3",{class:"title-section"},"關於使用",-1)),E=l(()=>e("p",{style:{display:"flex","justify-content":"center"}}," 提交申請即表示您同意將資料交給苗栗國政府進行資料處理，苗栗國政府將依照GDPR（一般資料處理原則）搜集並保存您的資料。 如果您的國籍不屬於苗栗國或東亞聯邦成員國，您注冊時將不需要填寫證件碼。 ",-1)),j=l(()=>e("h3",{class:"title-section"},"輸入帳號資料",-1)),G=l(()=>e("label",null,[e("h3",null,"Email")],-1)),H=l(()=>e("label",null,[e("h3",null,"姓名")],-1)),J=l(()=>e("label",{for:"options"},[e("h3",null,"國籍")],-1)),K=l(()=>e("option",{value:""},"請選擇國家",-1)),O=["value"],Q={key:0,name:"id"},W=l(()=>e("label",null,[e("h3",null,"MyNumber編號/護照號碼")],-1)),X=l(()=>e("label",null,[e("h3",null,"密碼")],-1)),Y=l(()=>e("p",null,[v(" ・ 10個字元以上"),e("br"),v(" ・ 大寫英文+小寫英文+數字+符號的組合"),e("br"),v(" ・ 密碼中允許輸入的符號如下+-*/=.,:;`@!#$%?|~^()[]{}_ ")],-1)),$=l(()=>e("label",null,[e("h3",null,"確認密碼")],-1)),ee=l(()=>e("div",null,[e("button",{type:"submit",class:"btn btn-default",id:"login"},[e("h3",null,"註冊新帳號")])],-1)),te={class:"register"},se=l(()=>e("button",{class:"btn btn-default"},[e("h3",null,"註冊成爲數位公民")],-1));function oe(a,o,g,s,h,f){const _=q("RouterLink");return c(),p(w,null,[s.registrationSuccess?(c(),p("div",{key:0,onClick:o[0]||(o[0]=(...t)=>s.letToLogin&&s.letToLogin(...t)),class:"success-message"},[R,v(" 註冊成功！"),I])):b("",!0),Z,e("div",null,[B,E,j,e("form",{onSubmit:o[7]||(o[7]=(...t)=>s.submitForm&&s.submitForm(...t))},[e("div",null,[G,d(e("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>s.email=t),type:"email",name:"email",placeholder:"Email",maxlength:"128",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",required:""},null,512),[[m,s.email]])]),e("div",null,[H,d(e("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>s.name=t),type:"text",name:"",placeholder:"姓名",pattern:".{2,}$",maxlength:"32",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",required:""},null,512),[[m,s.name]])]),e("div",null,[J,d(e("select",{"onUpdate:modelValue":o[3]||(o[3]=t=>s.selectedCountry=t),name:"countries",required:""},[K,(c(!0),p(w,null,N(s.countries,t=>(c(),p("option",{value:t.code},z(t.name),9,O))),256))],512),[[M,s.selectedCountry]])]),s.selectedCountry==="MAL"?(c(),p("div",Q,[W,d(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>s.id=t),type:"text",name:"id",placeholder:"MyNumber編號/護照號碼",pattern:".{5,}$",maxlength:"9",onkeyup:"this.value=this.value.replace(/\\s+/g,'')"},null,512),[[m,s.id]])])):b("",!0),e("div",null,[X,Y,d(e("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>s.password=t),type:"password",name:"password",placeholder:"密碼",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",pattern:"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z\\d]).{10,}$",required:""},null,512),[[m,s.password]])]),e("div",null,[$,d(e("input",{"onUpdate:modelValue":o[6]||(o[6]=t=>s.confirmPassword=t),type:"password",name:"confirm_password",placeholder:"確認密碼",onkeyup:"this.value=this.value.replace(/\\s+/g,'')",pattern:"^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z\\d]).{10,}$",required:""},null,512),[[m,s.confirmPassword]])]),ee],32),e("div",te,[P(_,{to:"digital"},{default:T(()=>[se]),_:1})])])],64)}const ne=L(F,[["render",oe],["__scopeId","data-v-39c4cf62"]]);export{ne as default};
