import{_ as i,r as p,c as _,d as w,e as s,k as n,v as d,j as m,a as c,g as l}from"./index-4ef9b014.js";import{_ as u}from"./icn_update-851772f2.js";const f={setup(){const e=p({old_password:"",new_password:"",confirmPassword:""});return{form:e,handleSubmit:async()=>{if(e.value.new_password!==e.value.confirmPassword){alert("新密碼和確認密碼不匹配!");return}const t=new FormData;t.append("old_password",e.value.old_password),t.append("new_password",e.value.new_password);try{const o=await c.post("/api/change_password.php",t,{headers:{"Content-Type":"multipart/form-data"}});o.data.success?alert("密碼修改成功!"):alert("錯誤: "+o.data.message)}catch(o){console.error("更改密碼發生錯誤",o),alert("更新密碼時出現錯誤")}}}}},h=s("h2",null,"修改MyoriPas登入密碼",-1),b=s("h3",{class:"title-section"},"輸入帳號資料",-1),v={class:"old-password"},y=s("label",{for:"old_password"},[s("h3",null,"舊密碼")],-1),g={class:"new-password"},x=s("label",{for:"new_password"},[s("h3",null,"新密碼")],-1),P=s("p",null,[l("・ 10個字元以上"),s("br"),l("・ 大寫英文+小寫英文+數字+符號的組合"),s("br"),l("・ 密碼中允許輸入的符號如下+-*/=.,:;`@!#$%?|~^()[]{}_")],-1),S={class:"confirm-password"},V=s("label",{for:"confirm_password"},[s("h3",null,"確認新密碼")],-1),k=s("div",null,[s("button",{type:"submit",class:"btn btn-default icn_button",id:"login"},[s("img",{src:u,alt:"warning"}),s("h3",null,"更新登入密碼")])],-1);function q(e,r,t,o,B,D){return _(),w("div",null,[h,b,s("form",{onSubmit:r[3]||(r[3]=m((...a)=>o.handleSubmit&&o.handleSubmit(...a),["prevent"]))},[s("div",v,[y,n(s("input",{type:"password","onUpdate:modelValue":r[0]||(r[0]=a=>o.form.old_password=a),required:""},null,512),[[d,o.form.old_password]])]),s("div",g,[x,P,n(s("input",{type:"password","onUpdate:modelValue":r[1]||(r[1]=a=>o.form.new_password=a),required:""},null,512),[[d,o.form.new_password]])]),s("div",S,[V,n(s("input",{type:"password","onUpdate:modelValue":r[2]||(r[2]=a=>o.form.confirmPassword=a),required:""},null,512),[[d,o.form.confirmPassword]])]),k],32)])}const U=i(f,[["render",q]]);export{U as default};
